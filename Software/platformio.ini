; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

; Do not modify this section unless you know exactly what you're doing.
; All user settings can be adjusted in the setup.ini file.

[platformio]
extra_configs = setup.ini

[env]
build_flags =
  ;User
  -D USER="${user.USER}"
  ;User settings
  -D HARDWARE_LEVEL="${settings.HARDWARE_LEVEL}"
  ;-D SCALE_TYP="${settings.SCALE_TYP}"
  ;-D SERVO_ERWEITERT="${settings.SERVO_ERWEITERT}"
  ;-D ROTARY_SCALE="${settings.ROTARY_SCALE}"
  -D DISPLAY_TYPE="${settings.DISPLAY_TYPE}"
  -D OTA="${settings.OTA}"
  -D DREHTELLER="${settings.DREHTELLER}"
  -D CHANGE_MAC_ADDRESS_HM="${settings.CHANGE_MAC_ADDRESS_HM}"
  -D CHANGE_MAC_ADDRESS_TT="${settings.CHANGE_MAC_ADDRESS_TT}"
  -D FEHLERKORREKTUR_WAAGE="${settings.FEHLERKORREKTUR_WAAGE}"
  ;-D QUETSCHHAHN_LINKS="${settings.QUETSCHHAHN_LINKS}"

  ; Version
  -D VERSION_STRING="${version.VERSION_STRING}"

  ;Debug
  -D DEBUG_HM="${debug.DEBUG_HM}"
  -D ESP_NOW_DEBUG="${debug.ESP_NOW_DEBUG}"
  -D WIFI_DEBUG="${debug.WIFI_DEBUG}"
  -D OTA_DEBUG="${debug.OTA_DEBUG}"

  ; TFT_eSPI library setting here (no need to edit library files):
  -D USER_SETUP_LOADED=1
  -D ST7789_DRIVER=1
  -D TFT_RGB_ORDER=0
  -D TFT_INVERSION_OFF=1
  ;-D TFT_MISO=19
  -D TFT_MOSI=23
  -D TFT_SCLK=18
  -D TFT_CS=5
  -D TFT_DC=13
  -D TFT_RST=14
  -D LOAD_GFXFF=1			
  -D TOUCH_CS=-1

platform = espressif32
monitor_speed = 115200
upload_speed = 921600
framework = arduino
lib_deps = 
	madhephaestus/ESP32Servo@3.0.5
	olikraus/U8g2@2.35.9
	bogde/HX711@0.7.5
	adafruit/Adafruit INA219@1.2.3
	ayushsharma82/ElegantOTA@3.1.0
	bodmer/TFT_eSPI@2.5.43
  
[env:esp32dev]
board = esp32dev
board_build.partitions = ./src/Resources/hm.csv

[env:heltec_wifi_kit_32_V3]
board = heltec_wifi_kit_32_V3

[env:esp32-s3-devkitc-1]
board = esp32-s3-devkitc-1


